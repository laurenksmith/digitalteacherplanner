{% extends "base.html" %}

{% block title %}Teacher Planner{% endblock %}

{% block content %}
<h1>My Weekly Planner</h1>

<form method="POST" action="/add">
    <input type="text" name="title" placeholder="Event title" required />
    <input type="date" name="date" required />
    <textarea name="notes" placeholder="Notes..."></textarea>
    <button type="submit">Add Event</button>
</form>

<div class="view-buttons">
    <a href="{{ url_for('week_view', date=datetime.today().date().isoformat()) }}" class="btn">
        <i class="fas fa-calendar-week"></i> Weekly View
    </a>
    <a href="{{ url_for('month_redirect') }}" class="btn">
        <i class="fas fa-calendar-alt"></i> Monthly View
    </a>
    <!-- Year view not implemented yet -->
</div>

<h2>Events</h2>
{% for event in events %}
    <div class="event">
        <strong>{{ event.title }}</strong><br>
        <em>{{ event.date }}</em><br>
        <p>{{ event.notes }}</p>
        <a href="{{ url_for('edit_event', event_id=event.id) }}">Edit</a> |
        <a href="{{ url_for('delete_event', event_id=event.id) }}" onclick="return confirm('Are you sure?')">Delete</a>
    </div>
{% endfor %}

<p><a href="{{ url_for('month_redirect') }}">ðŸ“… View Monthly Calendar</a></p>
{% endblock %}
